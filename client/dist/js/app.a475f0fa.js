(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("99af"),n("2ca0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("b408"),i=n.n(a),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"infoCorner"}),n("div",{staticClass:"infoCornerBottomLeft"}),n("div",{staticClass:"homeCubeDropShadow"}),n("div",{staticClass:"homeCube"},[e.isLoaded?n("div",[e.gameStarted?n("Game"):e.gameCreated?n("Setup"):n("Home")],1):n("SpinnerLoader",{staticClass:"centerHome",attrs:{color:"#344558"}})],1)])},o=[],c=n("2f62"),u=n("d1ad"),l=n.n(u),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Komt binnenkort! ")])},m=[],p={name:"Game",components:{},computed:Object(c["d"])({})},f=p,y=n("2877"),v=Object(y["a"])(f,d,m,!1,null,"0f3730a9",null),h=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"centerHome"},[n("button",{staticClass:"generalFont nieuwSpel transparentButton",on:{click:e.newGame}},[e._v("NIEUW SPEL")])])},P=[],b={name:"Home",methods:Object(c["b"])(["newGame"])},w=b,O=(n("f03f"),Object(y["a"])(w,g,P,!1,null,"a5455f92",null)),T=O.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shareableLink&&e.isMaster?n("div",{staticClass:"generalFont spelLink linkPosition"},[e._v(e._s(e.shareableLink))]):e._e(),n("br"),n("br"),e._playerName?!e._entriesPerPlayer&&e.isMaster?n("div",[n("label",{staticClass:"generalFont spelOpzetBriefjes labelPosition",attrs:{for:"entriesPerPlayer"}},[e._v("Aantal briefjes per speler:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.entriesPerPlayer,expression:"entriesPerPlayer"}],staticClass:"generalFont spelOpzetNaam centerTextInput",staticStyle:{color:"#688980"},attrs:{id:"entriesPerPlayer",type:"number",min:"1",max:"10"},domProps:{value:e.entriesPerPlayer},on:{input:function(t){t.target.composing||(e.entriesPerPlayer=t.target.value)}}}),n("button",{staticClass:"generalFont spelOpzetNaam transparentButton nextButton",on:{click:function(t){return e.setEntriesPerPlayer(e.entriesPerPlayer)}}},[e._v("»")])]):e.canStart&&e.isMaster?n("div",[n("button",{staticClass:"generalFont spelOpzetNaam centerTextInput",on:{click:e.startGame}},[e._v("Start")])]):n("div",{staticClass:"generalFont spelOpzetBriefjes centerTextInput"},[e._v(" Wachten tot het spel kan beginnen... ")]):n("div",[n("label",{staticClass:"generalFont spelOpzetBriefjes labelPosition",attrs:{for:"playerName"}},[e._v("Vul je naam in:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],staticClass:"generalFont spelOpzetNaam centerTextInput",staticStyle:{color:"#688980"},attrs:{id:"playerName",type:"text"},domProps:{value:e.playerName},on:{input:function(t){t.target.composing||(e.playerName=t.target.value)}}}),n("button",{staticClass:"generalFont spelOpzetNaam transparentButton nextButton",on:{click:function(t){return e.setPlayerName(e.playerName)}}},[e._v("»")])])])},S=[],C=(n("b0c0"),n("5530")),E={name:"Setup",data:function(){return{playerName:"",entriesPerPlayer:4}},computed:Object(C["a"])({},Object(c["d"])({_playerName:function(e){return e.game.player.name},_entriesPerPlayer:function(e){return e.game.entriesPerPlayer}}),{},Object(c["c"])(["isMaster","shareableLink","canStart"])),methods:Object(c["b"])(["setPlayerName","setEntriesPerPlayer","startGame"])},N=E,_=(n("fe79"),Object(y["a"])(N,x,S,!1,null,"4bf855b1",null)),j=_.exports,k={name:"App",components:{SpinnerLoader:l.a,Game:h,Home:T,Setup:j},computed:Object(c["d"])({isLoaded:function(e){return e.isLoaded},gameCreated:function(e){return e.game.isCreated},gameStarted:function(e){return e.game.isStarted}})},R=k,F=(n("5c0b"),Object(y["a"])(R,s,o,!1,null,null,null)),L=F.exports,G=(n("7db0"),n("d3b7"),n("ddb0"),n("96cf"),n("1da1")),I={state:{isConnected:!1,reconnectError:!1},mutations:{SOCKET_ONOPEN:function(e,t){r["a"].prototype.$socket=t.currentTarget,e.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){console.info(t)},SOCKET_RECONNECT:function(e,t){console.debug(e,t)},SOCKET_RECONNECT_ERROR:function(e){e.reconnectError=!0}},actions:{sendMessage:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.state,i=t.messageType,s=t.payload,a.isConnected){n.next=4;break}throw new Error("Not connected; could not send message "+i);case 4:r["a"].prototype.$socket.send(JSON.stringify({type:i,payload:s}));case 5:case"end":return n.stop()}}),n)})))()}}},M=(n("a623"),n("4de4"),n("c740"),n("a434"),function(e,t){return{messageType:e,payload:t,type:"sendMessage"}}),B=function(){return"Capone Light"},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=window.location.protocol,n=window.location.host;return"localhost:8080"===n&&(n="localhost:4000"),"".concat(t,"//").concat(n,"/").concat(e)},K={state:{isLoaded:!1,isCreated:!1,path:null,players:[],teams:[],master:null,entriesPerPlayer:null,turnOrder:[],isStarted:!1,isFinished:!1,turnTime:null,scorePerEntry:1,roundStarted:!1,roundFinished:!1,activeTeam:null,activePlayer:null,nextTeam:null,nextPlayer:null,turnStarted:!1,turnFinished:!1,activeEntry:null,turnTimeLeft:null,player:{id:null,name:null,teamId:null,isReady:!1},font:null,entries:[]},getters:{isMaster:function(e){return e.master===e.player.id},master:function(e){return e.players.find((function(t){return t.id===e.master}))},shareableLink:function(e){return e.path?z(e.path):null},team:function(e){return e.player.teamId?e.teams.find((function(t){return t.id===e.player.teamId})):null},visiblePlayers:function(e){return e.players.filter((function(e){return e.name}))},canStart:function(e){return e.players.every((function(e){return e.isReady&&e.teamId}))},myTurn:function(e){return e.activePlayer===e.player.id}},mutations:{setPath:function(e,t){e.path=t,window.history.pushState(null,"","/"+t)},addPlayer:function(e,t){e.players.push(t)},setPlayerName:function(e,t){var n=t.id,r=t.name,a=e.players.find((function(e){return e.id===n}));a&&(a.name=r)},removePlayer:function(e,t){var n=e.players.findIndex((function(e){return e.id===t}));n>-1&&this.players.splice(n,1),t===e.player.id&&(e.isCreated=!1)},setEntriesPerPlayer:function(e,t){e.entriesPerPlayer=t},addTeam:function(e,t){e.teams.push(t)},addPlayerToTeam:function(e,t){var n=t.id,r=t.teamId,a=e.players.find((function(e){return e.id===n}));a&&(a.teamId=r)},setPlayerReady:function(e,t){var n=e.players.find((function(e){return e.id===t}));n&&(n.isReady=!0)},setTurnTime:function(e,t){e.turnTime=t},startGame:function(e){e.isStarted=!0},startRound:function(e,t){var n=t.activeTeam,r=t.activePlayer,a=t.nextTeam,i=t.nextPlayer;e.activeTeam=n,e.activePlayer=r,e.nextTeam=a,e.nextPlayer=i,e.roundStarted=!0},finishGame:function(e){e.isFinished=!0},newGame:function(e){e.master=e.player.id,e.players.push(e.player),e.isCreated=!0},setName:function(e,t){e.player.name=t},setFont:function(e,t){e.font=t},addEntry:function(e,t){e.entries.push(t)}},actions:{newGame:function(e){return Object(G["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.next=3,r(M("newGame"));case 3:n("newGame");case 4:case"end":return t.stop()}}),t)})))()},setPlayerName:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,!t){n.next=6;break}return n.next=4,a(M("setPlayerName",t));case 4:r("setName",t),a("setFont",B());case 6:case"end":return n.stop()}}),n)})))()},setFont:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,!t){n.next=5;break}return n.next=4,a(M("setFont",t));case 4:r("setFont",t);case 5:case"end":return n.stop()}}),n)})))()},setEntriesPerPlayer:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,!t){n.next=5;break}return n.next=4,a(M("setEntriesPerPlayer",t));case 4:r("setEntriesPerPlayer",t);case 5:case"end":return n.stop()}}),n)})))()},addEntry:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,!t){n.next=5;break}return n.next=4,a(M("addEntry",t));case 4:r("addEntry",t);case 5:case"end":return n.stop()}}),n)})))()},addTeam:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit,r=e.dispatch,t&&r(M("addTeam",t));case 2:case"end":return n.stop()}}),n)})))()},addPlayerToTeam:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,i=t.id,s=t.teamId,!i||!s){n.next=6;break}return n.next=5,a(M("addPlayerToTeam",{id:i,teamId:s}));case 5:r("addPlayerToTeam",{id:i,teamId:s});case 6:case"end":return n.stop()}}),n)})))()},setTurnTime:function(e,t){return Object(G["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.dispatch,!t){n.next=5;break}return n.next=4,a(M("setTurnTime",t));case 4:r("setTurnTime",t);case 5:case"end":return n.stop()}}),n)})))()},startGame:function(e){return Object(G["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.dispatch,n(M("startGame"));case 2:case"end":return t.stop()}}),t)})))()}}};r["a"].use(c["a"]);var H=new c["a"].Store({state:{isLoaded:!1,showHelp:!1},mutations:{load:function(e,t){var n=t.userId,r=t.game;if(r){e.game.path=r.path,window.location.href!==z(r.path)&&window.history.pushState(null,"","/"+r.path),e.game.players=r.players,e.game.teams=r.teams,e.game.master=r.master,e.game.entriesPerPlayer=r.entriesPerPlayer,e.game.turnOrder=r.turnOrder,e.game.isStarted=r.isStarted,e.game.isFinished=r.isFinished,e.game.turnTime=r.turnTime,e.game.scorePerEntry=r.scorePerEntry,e.game.roundStarted=r.roundStarted,e.game.roundFinished=r.roundFinished,e.game.activeTeam=r.activeTeam,e.game.activePlayer=r.activePlayer,e.game.nextTeam=r.nextTeam,e.game.nextPlayer=r.nextPlayer,e.game.turnStarted=r.turnStarted,e.game.turnFinished=r.turnFinished,e.game.activeEntry=r.activeEntry,e.game.turnTimeLeft=r.turnTimeLeft;var a=e.game.players.find((function(e){return e.id===n}));a&&(e.game.player=a),e.game.font=r.font,e.game.entries=r.entries,e.game.isCreated=!0}else e.game.player.id=n;e.isLoaded=!0}},modules:{socket:I,game:K}}),$="https:"===window.location.protocol?"wss":"ws",J="".concat($,"://").concat(window.location.host,"/ws/");r["a"].use(i.a,J,{store:H,reconnection:!0,passToStoreHandler:function(e,t){if(e.startsWith("SOCKET_")){var n=e.toUpperCase(),r=t;if(t.data){var a=JSON.parse(t.data);n=a.type,r=a.payload}this.store.commit(n,r)}}}),r["a"].directive("focus",{inserted:function(e){e.focus()}}),r["a"].config.productionTip=!1,new r["a"]({store:H,render:function(e){return e(L)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"620b":function(e,t,n){},"9c0c":function(e,t,n){},d75e:function(e,t,n){},f03f:function(e,t,n){"use strict";var r=n("d75e"),a=n.n(r);a.a},fe79:function(e,t,n){"use strict";var r=n("620b"),a=n.n(r);a.a}});
//# sourceMappingURL=app.a475f0fa.js.map